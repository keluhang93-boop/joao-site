<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desafio de PortuguÃªs: Moda & Estilo</title>
    <style>
        :root {
            --primary: #6c5ce7;
            --success: #00b894;
            --error: #d63031;
            --bg: #f4f7f6;
            --dark: #2d3436;
        }

        body { font-family: 'Segoe UI', sans-serif; background-color: var(--bg); padding: 20px; padding-bottom: 150px; }
        .container { max-width: 900px; margin: 0 auto; background: white; padding: 40px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        
        h1 { text-align: center; color: var(--primary); margin-bottom: 30px; }

        /* Resumo Global */
        #global-score { 
            display: none; text-align: center; background: var(--primary); 
            color: white; padding: 20px; border-radius: 15px; margin-bottom: 30px; 
        }

        /* Estilo do AcordeÃ£o */
        .accordion-item { border: 1px solid #ddd; border-radius: 12px; margin-bottom: 15px; overflow: hidden; }
        
        .accordion-header {
            background: #f8f9fa; padding: 20px; cursor: pointer;
            display: flex; justify-content: space-between; align-items: center;
            font-size: 1.2rem; font-weight: bold; color: #444;
        }
        .section-score { font-size: 0.9rem; color: var(--primary); background: #eee; padding: 4px 10px; border-radius: 20px; margin-left: 10px; display: none; }

        .accordion-content { display: none; padding: 20px; background: #fff; }
        .active .accordion-content { display: block; }

        /* CartÃµes */
        .question-card { 
            display: flex; align-items: center; gap: 20px;
            background: #fff; border: 1px solid #eee; border-radius: 15px; 
            padding: 15px; margin-bottom: 15px; 
        }
        
        .img-box { flex: 0 0 110px; order: 2; }
        .img-box img { width: 100%; height: 90px; border-radius: 8px; object-fit: cover; border: 1px solid #ddd; }
        
        .content-box { flex: 1; order: 1; }
        .sentence { font-size: 1.1rem; }

        select { padding: 6px; border-radius: 6px; border: 2px solid var(--primary); cursor: pointer; }

        .audio-btn {
            background: var(--primary); color: white; border: none; 
            padding: 6px 12px; border-radius: 50px; cursor: pointer; font-size: 0.8rem;
        }

        .feedback { display: block; margin-top: 5px; font-weight: bold; font-size: 0.85rem; }
        .correct { border: 2px solid var(--success) !important; background: #f0fff4 !important; }
        .wrong { border: 2px solid var(--error) !important; background: #fff5f5 !important; }

        /* BotÃµes Flutuantes */
        .controls {
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
            display: flex; gap: 10px; z-index: 1000;
        }

        .btn {
            padding: 15px 25px; border-radius: 50px; border: none; 
            font-weight: bold; cursor: pointer; box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            font-size: 1rem;
        }
        #check-btn { background: var(--dark); color: white; }
        #reset-btn { background: #b2bec3; color: white; }
    </style>
</head>
<body>

<div class="container">
    <h1>Aula da Monique: Moda ðŸ‡µðŸ‡¹</h1>
    
    <div id="global-score"></div>

    <div class="accordion-item" id="sec-vocab">
        <div class="accordion-header" onclick="toggleSection('sec-vocab')">
            1. VocabulÃ¡rio <span id="score-vocab" class="section-score"></span>
        </div>
        <div class="accordion-content" id="vocab-section"></div>
    </div>

    <div class="accordion-item" id="sec-verb">
        <div class="accordion-header" onclick="toggleSection('sec-verb')">
            2. Verbos <span id="score-verb" class="section-score"></span>
        </div>
        <div class="accordion-content" id="verb-section"></div>
    </div>

    <div class="accordion-item" id="sec-audio">
        <div class="accordion-header" onclick="toggleSection('sec-audio')">
            3. AudiÃ§Ã£o <span id="score-audio" class="section-score"></span>
        </div>
        <div class="accordion-content" id="audio-section"></div>
    </div>

    <div class="controls">
        <button class="btn" id="check-btn" onclick="checkQuiz()">Verificar Respostas</button>
        <button class="btn" id="reset-btn" onclick="resetQuiz()">RecomeÃ§ar</button>
    </div>
</div>

<script>
    function toggleSection(id) {
        const item = document.getElementById(id);
        const isActive = item.classList.contains('active');
        document.querySelectorAll('.accordion-item').forEach(el => el.classList.remove('active'));
        if (!isActive) item.classList.add('active');
    }

    function speak(text) {
        window.speechSynthesis.cancel();
        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = 'pt-PT';
        utterance.rate = 0.85; 
        window.speechSynthesis.speak(utterance);
    }

    // Dados das questÃµes
    const vocabData = [
        { img: "https://images.unsplash.com/photo-1591047139829-d91aecb6caea?w=200", pre: "Para o frio, levo um", post: "grosso.", opts: ["casaco", "vestido", "colar"], ans: "casaco" },
        { img: "https://3494.cdn.simplo7.net/static/3494/sku/quinzentenaconcentraco-camisa-branca-lisa-100-algodao--p-1597344162726.jpg", pre: "Ele veste uma", post: "branca.", opts: ["saia", "camisa", "mala"], ans: "camisa" },
        { img: "https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=200", pre: "Estes", post: "sÃ£o Ã³timos para correr.", opts: ["tÃ©nis", "Ã³culos", "brincos"], ans: "tÃ©nis" },
        { img: "https://images.unsplash.com/photo-1572635196237-14b3f281503f?w=200", pre: "Ela usa os", post: "porque estÃ¡ sol.", opts: ["cintos", "Ã³culos", "chapÃ©us"], ans: "Ã³culos" },
        { img: "https://d5gag3xtge2og.cloudfront.net/producao/34126918/G/colar_3_voltas_prata_1.jpg", pre: "Que", post: "tÃ£o bonito!", opts: ["colar", "relÃ³gio", "sapato"], ans: "colar" },
        { img: "https://images.unsplash.com/photo-1584917865442-de89df76afd3?w=200", pre: "A", post: "da Monique Ã© cara.", opts: ["mala", "camisola", "pulseira"], ans: "mala" },
        { img: "https://ahlabuy.com/img/p/7/9/4/2/7/1/794271-large_default.jpg", pre: "O noivo veste um", post: "azul.", opts: ["fato", "pijama", "blusÃ£o"], ans: "fato" },
        { img: "https://images.unsplash.com/photo-1594633312681-425c7b97ccd1?w=200", pre: "No verÃ£o visto", post: ".", opts: ["calÃ§Ãµes", "botas", "luvas"], ans: "calÃ§Ãµes" },
        { img: "https://babadotop.vteximg.com.br/arquivos/ids/1491756-548-806/image-77f896db86b848c1848a7ce627db55c2.jpg?v=637618021186870000", pre: "A Monique usa uma", post: "verde.", opts: ["saia", "cinto", "relÃ³gio"], ans: "saia" },
        { img: "https://www.kacewear.com.br/cdn/shop/articles/CAPA_-_BUCKET_HAT_O_CHAPEU_ESTILO_PESCADOR_QUE_FEZ_A_CABECA_DE_UMA_GERACAO_11e89ab6-2b12-44ad-8300-f0558f6eaf7c.png?v=1662738913", pre: "PÃµe o", post: "na cabeÃ§a.", opts: ["chapÃ©u", "pijama", "casaco"], ans: "chapÃ©u" }
    ];

    const verbData = [
        { pre: "Ontem, eu", post: "um vestido.", opts: ["visto", "vestiu", "vesti"], ans: "vesti" },
        { pre: "NÃ³s", post: "sempre relÃ³gio.", opts: ["usam", "usamos", "usais"], ans: "usamos" },
        { pre: "AmanhÃ£, tu", post: "os chinelos?", opts: ["calÃ§aste", "calÃ§as", "vais calÃ§ar"], ans: "vais calÃ§ar" },
        { pre: "Eles", post: "as botas agora.", opts: ["calÃ§am", "calÃ§aram", "calÃ§aria"], ans: "calÃ§am" },
        { pre: "A Monique", post: "acessÃ³rios.", opts: ["usa", "usam", "uso"], ans: "usa" },
        { pre: "No sÃ¡bado, eu", post: "um fato.", opts: ["vesti", "vestirei", "visto"], ans: "vestirei" },
        { pre: "Tu", post: "a camisola ontem?", opts: ["vestiste", "vestes", "vestirÃ¡"], ans: "vestiste" },
        { pre: "NÃ³s", post: "as sapatilhas.", opts: ["calÃ§amos", "calÃ§aram", "calÃ§o"], ans: "calÃ§amos" },
        { pre: "Ele", post: "um blusÃ£o amanhÃ£.", opts: ["vestiu", "vai vestir", "veste"], ans: "vai vestir" },
        { pre: "Eu nunca", post: "brincos.", opts: ["usa", "uso", "usam"], ans: "uso" }
    ];

    const audioData = [
        { text: "A InÃªs prefere escolher roupas de algodÃ£o orgÃ¢nico.", opts: ["A InÃªs prefere escolher roupas de algodÃ£o orgÃ¢nico.", "A InÃªs comprou roupas de algodÃ£o usado.", "A InÃªs prefere colares de ouro orgÃ¢nico."], ans: "A InÃªs prefere escolher roupas de algodÃ£o orgÃ¢nico." },
        { text: "O mais importante Ã© sentir-se bem com aquilo que veste.", opts: ["O importante Ã© comprar muito para vestir.", "O mais importante Ã© sentir-se bem com aquilo que veste.", "Ã‰ importante vestir o que estÃ¡ na moda."], ans: "O mais importante Ã© sentir-se bem com aquilo que veste." },
        { text: "A Joana acha que o vestido da ConstanÃ§a Ã© lindÃ­ssimo.", opts: ["A Joana acha que o vestido Ã© feio.", "A Joana comprou um vestido lindÃ­ssimo.", "A Joana acha que o vestido da ConstanÃ§a Ã© lindÃ­ssimo."], ans: "A Joana acha que o vestido da ConstanÃ§a Ã© lindÃ­ssimo." },
        { text: "Este casaco era da minha avÃ³.", opts: ["Este casaco era da minha avÃ³.", "Este casaco Ã© da minha mÃ£e.", "Este casaco Ã© novo."], ans: "Este casaco era da minha avÃ³." },
        { text: "A mala da Joana Ã© cor de rosa.", opts: ["A mala da Joana Ã© vermelha.", "A mala da Joana Ã© cor de rosa.", "A mala da Joana Ã© de pele."], ans: "A mala da Joana Ã© cor de rosa." },
        { text: "A InÃªs costuma vestir calÃ§as de ganga no dia a dia.", opts: ["A InÃªs veste saias no dia a dia.", "A InÃªs costuma vestir calÃ§as de ganga no dia a dia.", "A InÃªs veste calÃ§Ãµes de ganga."], ans: "A InÃªs costuma vestir calÃ§as de ganga no dia a dia." },
        { text: "NÃ£o Ã© preciso comprar muita roupa.", opts: ["Ã‰ preciso comprar muita roupa.", "NÃ£o Ã© preciso comprar muita roupa.", "Ela precisa de comprar roupa."], ans: "NÃ£o Ã© preciso comprar muita roupa." },
        { text: "A ConstanÃ§a vai a um encontro hoje.", opts: ["A ConstanÃ§a vai a um encontro hoje.", "A ConstanÃ§a vai ao centro hoje.", "A ConstanÃ§a vai a um concerto hoje."], ans: "A ConstanÃ§a vai a um encontro hoje." },
        { text: "Ela opta por uma camisa clÃ¡ssica e sapatos elegantes.", opts: ["Ela usa uma camisola clÃ¡ssica e sapatos.", "Ela opta por uma camisa clÃ¡ssica e sapatos elegantes.", "Ela veste uma saia clÃ¡ssica."], ans: "Ela opta por uma camisa clÃ¡ssica e sapatos elegantes." },
        { text: "A forma como nos vestimos influencia a nossa confianÃ§a.", opts: ["A forma como nos vestimos influencia a nossa confianÃ§a.", "Vestir bem nÃ£o ajuda a confianÃ§a.", "O estilo pessoal nÃ£o Ã© importante."], ans: "A forma como nos vestimos influencia a nossa confianÃ§a." }
    ];

    function render() {
        const vT = document.getElementById('vocab-section');
        vocabData.forEach((item, i) => {
            vT.innerHTML += `<div class="question-card" id="vocab-card-${i}"><div class="img-box"><img src="${item.img}"></div><div class="content-box"><div class="sentence"><button class="audio-btn" onclick="speak('${item.pre} ${item.ans} ${item.post}')">ðŸ”Š Som</button> ${item.pre} <select id="vocab-ans-${i}"><option value="">--</option>${item.opts.map(o => `<option value="${o}">${o}</option>`).join('')}</select> ${item.post}</div><span id="vocab-feed-${i}" class="feedback"></span></div></div>`;
        });
        const vbT = document.getElementById('verb-section');
        verbData.forEach((item, i) => {
            vbT.innerHTML += `<div class="question-card" id="verb-card-${i}"><div class="content-box"><div class="sentence"><button class="audio-btn" onclick="speak('${item.pre} ${item.ans} ${item.post}')">ðŸ”Š Som</button> ${item.pre} <select id="verb-ans-${i}"><option value="">--</option>${item.opts.map(o => `<option value="${o}">${o}</option>`).join('')}</select> ${item.post}</div><span id="verb-feed-${i}" class="feedback"></span></div></div>`;
        });
        const aT = document.getElementById('audio-section');
        audioData.forEach((item, i) => {
            aT.innerHTML += `<div class="question-card" id="audio-card-${i}"><div class="content-box"><button class="audio-btn" onclick="speak('${item.text}')">ðŸ”Š Ouvir Frase</button><div class="sentence"><select id="audio-ans-${i}" style="width:100%;"><option value="">-- O que ouviu? --</option>${item.opts.map(o => `<option value="${o}">${o}</option>`).join('')}</select></div><span id="audio-feed-${i}" class="feedback"></span></div></div>`;
        });
    }

    function checkQuiz() {
        let globalScore = 0;
        
        const validate = (data, prefix, scoreId) => {
            let sectionScore = 0;
            data.forEach((item, i) => {
                const sel = document.getElementById(`${prefix}-ans-${i}`);
                const card = document.getElementById(`${prefix}-card-${i}`);
                const feed = document.getElementById(`${prefix}-feed-${i}`);
                if(sel.value === item.ans) {
                    sectionScore++; card.className = 'question-card correct'; feed.innerText = "Correto!";
                } else {
                    card.className = 'question-card wrong'; feed.innerText = `Resposta: ${item.ans}`;
                }
            });
            const sEl = document.getElementById(scoreId);
            sEl.style.display = "inline";
            sEl.innerText = `${sectionScore} / ${data.length}`;
            return sectionScore;
        };

        globalScore += validate(vocabData, 'vocab', 'score-vocab');
        globalScore += validate(verbData, 'verb', 'score-verb');
        globalScore += validate(audioData, 'audio', 'score-audio');

        const gDisplay = document.getElementById('global-score');
        gDisplay.style.display = "block";
        gDisplay.innerHTML = `<h2>PontuaÃ§Ã£o Global: ${globalScore} / 30</h2><p>${globalScore > 25 ? "IncrÃ­vel! EstÃ¡s de parabÃ©ns! ðŸŽ‰" : "Bom esforÃ§o! Continua a praticar! ðŸ’ª"}</p>`;
        document.querySelectorAll('.accordion-item').forEach(el => el.classList.add('active'));
        window.scrollTo({top: 0, behavior: 'smooth'});
    }

    function resetQuiz() {
        document.querySelectorAll('select').forEach(s => s.value = "");
        document.querySelectorAll('.question-card').forEach(c => c.className = 'question-card');
        document.querySelectorAll('.feedback').forEach(f => f.innerText = "");
        document.querySelectorAll('.section-score').forEach(s => s.style.display = "none");
        document.getElementById('global-score').style.display = "none";
        document.querySelectorAll('.accordion-item').forEach(el => el.classList.remove('active'));
        toggleSection('sec-vocab');
        window.scrollTo({top: 0, behavior: 'smooth'});
    }

    render();
    toggleSection('sec-vocab');
</script>

</body>
</html>
